<div class="navbar navbar-static-top bs-docs-nav" id="top" role="banner">
  <div class="container">
    <div class="navbar-header">
      <button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
      </button>
      <a href="/" class="navbar-brand">The Shine Code</a>
    </div>
    <nav id="bs-navbar" class="collapse navbar-collapse">
        <ul class="nav navbar-nav">
          <li class="dropdown">
            <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Categories <span class="caret"></span></a>
            <ul class="dropdown-menu">
              <li><%= link_to "Newest", posts_newest_path %></li>
              <li><%= link_to 'Trending', root_path %></li>
              <li><%= link_to "News", posts_news_path %></li>
              <li><%= link_to "Projects", posts_projects_path %></li>
              <li><%= link_to "Events", posts_events_path %></li>
              <li><%= link_to "Jobs", posts_jobs_path %></li>
            </ul>
            <% if member_signed_in? %>
              <li><a href="/members">Members</a></li>
            <% end %>
            
            <li><a href="/about">About</a></li>
          </li>
        </ul>

      <% if member_signed_in? %>
        <ul class="nav navbar-nav navbar-right">
          <li> <%= link_to current_member.fullname, member_path(current_member.id) %> </li>
            <% if member_has_unseen_notifications? %>
              <li class="dropdown" id="notifications">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false"><%= get_notification_count %> </a>
                <ul class="dropdown-menu">
                  <%= render partial: "layouts/notification", collection: get_notifications, as: :notification %>
                </ul>
              </li>
            <% else %>
              <li class="dropdown" id="no-notification">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false"><i class="fa fa-bell"></i> </a>
                <ul class="dropdown-menu">
                  <li><a href="#">No new notifications.</a></li>
                </ul>
              </li>
            <% end %>
          <li> <%= link_to('Logout', destroy_member_session_path, :method => :delete) %></li>
        </ul>
      <% else %>
        <ul class="nav navbar-nav navbar-right">
          <li><%= link_to 'Login', new_member_session_path %></li>
          <li><%= link_to 'Join', new_signup_path %></li>
        </ul>
      <% end %>
    </nav>
  </div>
</div>
